[package]
name = "rustream"
version = "0.1.0"
edition = "2021"
description = "Cross-Platform Streaming Application capable of Hosting, Watching and Saving the Screen(s) in Rust!"
license = "GPL-2.0"
repository = "https://github.com/CodeClimberNT/rustream"

[package.metadata.bundle]
name = "Rustream"
icon = ["assets/icons/home.svg"]

[lints.rust]
unsafe_code = "forbid"

[dependencies]
# GUI Framework
eframe = { version = "0.29.1", features = [
    "glow",
], default-features = false, optional = true }
egui = { version = "0.29.1", optional = true }

# Screen Capture
scrap = "0.5.0"

# Networking
tokio = { version = "1.28.2", features = ["full"] }
tokio-stream = "0.1.11"
serde = { version = "1.0.215", features = ["derive"] }
serde_json = "1.0.133"

# Multithreading and Concurrency
crossbeam = "0.8.2"
futures = "0.3.31"

# Hotkeys and Input
winit = "0.30.5"

# Annotations
# Use a drawing crate compatible with egui
egui_extras = { version = "0.29.1", optional = true }
image = { version = "0.25.5", features = ["png", "jpeg"] }

# Recording
ffmpeg-next = "7.1.0"

# For global hotkeys

# Casting utility
bytemuck = "1.20.0"


[features]
default = ["gui"]
gui = ["eframe", "egui", "egui_extras"]

[profile.release]
opt-level = 3
lto = true

[profile.dev]
opt-level = 2
